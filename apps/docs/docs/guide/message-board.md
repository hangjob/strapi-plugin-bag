# 留言板管理系统

本模块提供了一个通用的用户反馈与留言收集系统，适用于“联系我们”页面或专门的建议反馈板块。

## 模型结构 (Message)

- **姓名 (Name)**: 留言者的称呼。
- **联系方式 (Contact)**: 留言者的邮箱或电话，方便回访。
- **标题 (Title)**: 留言的主题。
- **内容 (Content)**: 留言的详细描述。
- **处理状态 (Status)**:
  - `待处理 (pending)`: 初始状态。
  - `已回复 (replied)`: 管理员已通过线下或系统回复用户。
  - `已关闭 (closed)`: 留言已处理完毕。
- **安全信息 (ip/ua)**: 自动记录留言者的 IP 地址和设备环境。
- **管理员备注 (AdminNotes)**: 仅管理员可见的内部笔记，用于记录处理过程。

---

## API 调用

### 1. 提交留言
支持游客直接提交。系统会自动获取请求头中的 `IP` 和 `User-Agent`。

**接口地址:** `POST /api/bag/messages`

**请求体 (Body):**
```json
{
  "name": "张先生",
  "contact": "zhang@example.com",
  "title": "关于产品建议",
  "content": "我非常喜欢这个插件，如果能增加暗黑模式就更好了。"
}
```

---

## 前端集成建议

1. **表单验证**: 提交前建议在前端进行基础的非空验证。
2. **频率限制**: 虽然插件有 IP 限制，但建议在前端针对提交按钮增加简单的防抖或倒计时逻辑，避免恶意连刷。
3. **成功反馈**: 接口请求成功后，建议给用户展示一个温馨的提示语（如：“您的意见我们已收到，感谢您的支持！”）。

